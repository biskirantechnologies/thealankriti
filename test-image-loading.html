<!DOCTYPE html>
<html>
<head>
    <title>Image Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-section { margin: 20px 0; padding: 20px; border: 1px solid #ccc; }
        img { max-width: 200px; border: 2px solid #333; }
        .error { color: red; }
        .success { color: green; }
    </style>
</head>
<body>
    <h1>Image Loading Test</h1>
    
    <div class="test-section">
        <h2>Direct Image Test</h2>
        <p>Testing if Ring image loads directly:</p>
        <img 
            src="http://localhost:5000/uploads/products/product-1758121273341-420418591.png" 
            alt="Ring Product Image"
            onload="console.log('✅ Image loaded successfully'); document.getElementById('status1').textContent = '✅ Success';"
            onerror="console.log('❌ Image failed to load'); document.getElementById('status1').textContent = '❌ Failed';"
        />
        <p>Status: <span id="status1">Loading...</span></p>
    </div>
    
    <div class="test-section">
        <h2>CORS Test</h2>
        <p>Testing with fetch API:</p>
        <button onclick="testFetch()">Test Fetch</button>
        <p>Status: <span id="status2">Click button to test</span></p>
    </div>
    
    <div class="test-section">
        <h2>Alternative Path Test</h2>
        <p>Testing alternative image paths:</p>
        <div>
            <p>Direct file check:</p>
            <img 
                src="http://localhost:5000/uploads/products/product-1756915898917-768217433.jpeg" 
                alt="Second Ring Image"
                onload="console.log('✅ Second image loaded'); document.getElementById('status3').textContent = '✅ Success';"
                onerror="console.log('❌ Second image failed'); document.getElementById('status3').textContent = '❌ Failed';"
            />
            <p>Status: <span id="status3">Loading...</span></p>
        </div>
    </div>

    <script>
        async function testFetch() {
            try {
                const response = await fetch('http://localhost:5000/uploads/products/product-1758121273341-420418591.png');
                const status2 = document.getElementById('status2');
                
                if (response.ok) {
                    status2.textContent = `✅ Fetch successful (${response.status})`;
                    status2.className = 'success';
                } else {
                    status2.textContent = `❌ Fetch failed (${response.status})`;
                    status2.className = 'error';
                }
                
                console.log('Fetch response:', response);
                console.log('Headers:', response.headers);
            } catch (error) {
                document.getElementById('status2').textContent = `❌ Fetch error: ${error.message}`;
                document.getElementById('status2').className = 'error';
                console.error('Fetch error:', error);
            }
        }
        
        console.log('Image test page loaded');
    </script>
</body>
</html>